{"version":3,"sources":["static/legends.js","components/Legend.js","components/Tooltip.js","components/Simulator.js","Viewer.js","static/info.png","App.js","index.js"],"names":["legends","tree_tot_n","label","colorMap","avg_trunk_girth","avg_height","avg_crown_diameter","tree_cover","sum_c_stock_n","sum_c_seq_n","getColorForLegend","val","colorItem","find","item","length","Legend","legendValue","setLegendValue","legendItem","len","className","map","index","style","backgroundColor","Object","entries","onClick","Tooltip","closeTooltip","properties","openSimulator","perc_caducifolio","perc_perennifolio","tree_valid","tree_tot","especie_1","especie_1_perc","especie_2","especie_2_perc","especie_3","especie_3_perc","other_perc","sum_c_stock","sum_c_seq","NOMBRE","treeData","treeSpecies","carbonInfo","Math","round","name","Simulator","visible","onClose","useState","coniferNumber","setConiferNumber","broadleafNumber","setBroadleafNumber","co2Initial","setCo2Initial","coniferCm","setConiferCm","broadleafCm","setBroadleafCm","sequestration","setSequestration","useEffect","sequestrationValue","get_co2","senescence","cm","pow","co2_initial","get_t1","diameter_t0","log","simulate","height","type","placeholder","value","onChange","event","Number","target","isInteger","isNaN","madridCenter","App","tooltipVisible","setTooltipVisible","setProperties","layerH","setLayerH","simulatorVisible","setSimulatorVisible","left","id","href","src","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","url","GeoJSON","feature","fillColor","weight","opacity","color","dashArray","fillOpacity","eventHandlers","click","e","a","layer","data","pathOptions","basename","exact","path","component","Viewer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yp7wBAyEiBA,EAzED,CACZC,WAAY,CACVC,MAAO,8BACPC,SAAS,CACN,CAAC,KAAM,WACP,CAAC,KAAM,WACP,CAAC,KAAM,WACP,CAAC,KAAM,WACP,CAAC,KAAM,aAGZC,gBAAiB,CACfF,MAAO,4BACPC,SAAS,CACP,CAAC,KAAO,WACR,CAAC,KAAO,WACR,CAAC,KAAO,WACR,CAAC,KAAO,WACR,CAAC,IAAM,aAGXE,WAAY,CACVH,MAAO,uBACPC,SAAS,CACP,CAAC,KAAM,WACP,CAAC,KAAM,WACP,CAAC,KAAM,WACP,CAAC,KAAM,WACP,CAAC,KAAM,aAGXG,mBAAoB,CAClBJ,MAAO,gCACPC,SAAS,CACP,CAAC,KAAM,WACP,CAAC,KAAM,WACP,CAAC,KAAM,WACP,CAAC,IAAM,WACP,CAAC,KAAM,aAGXI,WAAY,CACVL,MAAO,gCACPC,SAAS,CACP,CAAC,KAAM,WACP,CAAC,KAAM,WACP,CAAC,IAAK,WACN,CAAC,IAAK,WACN,CAAC,IAAK,aAGVK,cAAe,CACbN,MAAO,6BACPC,SAAU,CACR,CAAC,QAAS,WACV,CAAC,QAAS,WACV,CAAC,QAAS,WACV,CAAC,OAAQ,WACT,CAAC,OAAQ,aAGbM,YAAa,CACXP,MAAO,uCACPC,SAAU,CACR,CAAC,OAAQ,WACT,CAAC,MAAO,WACR,CAAC,MAAO,WACR,CAAC,MAAO,WACR,CAAC,MAAO,cC1BVO,EAAoB,SAACC,EAAKR,GAC9B,GAAKA,EAAL,CAGA,IAAMS,EAAYT,EAASU,MAAK,SAACC,GAAD,OAAUH,EAAMG,EAAK,MAErD,OAAOF,GAAaA,EAAU,GAC1BA,EAAU,GACVT,EAASA,EAASY,OAAS,GAAG,KAIrBC,EApDA,SAAC,GAAqC,IAAD,MAAlCC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,eACvBC,EAAU,OAAGnB,QAAH,IAAGA,GAAH,UAAGA,EAAUiB,UAAb,aAAG,EAAwBf,MACrCC,EAAQ,OAAGH,QAAH,IAAGA,GAAH,UAAGA,EAAUiB,UAAb,aAAG,EAAwBd,SACnCiB,EAAG,OAAGpB,QAAH,IAAGA,GAAH,UAAGA,EAAUiB,UAAb,aAAG,EAAwBd,SAASY,OAE7C,OACE,sBAAKM,UAAU,kBAAf,UACE,8BACE,wCAEF,qBAAKA,UAAU,cAAf,SAA8BF,IAC9B,qBAAKE,UAAU,iBAAf,gBACGlB,QADH,IACGA,OADH,EACGA,EAAUmB,KAAI,SAACR,EAAMS,GAAP,aACb,gCACE,qBAAKF,UAAU,YAAf,oBACM,UAAAlB,EAASiB,EAAIG,EAAQ,EAAE,UAAvB,eAA4B,KAAM,EADxC,YAC6CpB,EAASiB,EAAIG,EAAM,GAAG,MAEnE,qBACEF,UAAU,cACVG,MAAO,CAAEC,gBAAiBtB,EAASiB,EAAIG,EAAM,GAAG,IAAMT,EAAK,QANrDS,QAWbG,OAAOC,QAAQ3B,GAASsB,KACvB,SAACR,GAAD,OACEA,EAAK,KAAOG,GACV,qBAEEI,UAAU,0BACVO,QAAS,kBAAMV,EAAeJ,EAAK,KAHrC,SAKGA,EAAK,GAAGZ,OAJJY,EAAK,GAAGZ,cCqDZ2B,EAnFC,SAAC,GAAwD,IAAtDC,EAAqD,EAArDA,aAAcN,EAAuC,EAAvCA,MAAOO,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,cAClD,IAAKD,EACH,OAAO,KAF6D,IAKpEE,EAcEF,EAdFE,iBACAC,EAaEH,EAbFG,kBACAC,EAYEJ,EAZFI,WACAC,EAWEL,EAXFK,SACAC,EAUEN,EAVFM,UACAC,EASEP,EATFO,eACAC,EAQER,EARFQ,UACAC,EAOET,EAPFS,eACAC,EAMEV,EANFU,UACAC,EAKEX,EALFW,eACAC,EAIEZ,EAJFY,WACAC,EAGEb,EAHFa,YACAC,EAEEd,EAFFc,UACAC,EACEf,EADFe,OAGIC,EAAW,CACf,CAAC,cAAeX,GAChB,CAAC,qBAAsBD,EAAa,KACpC,CAAC,YAAaD,EAAoB,KAClC,CAAC,YAAaD,EAAmB,MAG7Be,EAAc,CAClB,CAACX,EAAWC,GACZ,CAACC,EAAWC,GACZ,CAACC,EAAWC,GACZ,CAAC,SAAUC,IAGPM,EAAa,CACjB,CAAC,kBAAcC,KAAKC,MAAMP,GAAc,OACxC,CAAC,yBAAqBM,KAAKC,MAAMN,GAAY,UAE/C,OACE,sBAAKrB,MAAOA,EAAOH,UAAU,UAA7B,UACE,qBAAKA,UAAU,YAAf,SACE,4BAAIyB,MAELC,EAASzB,KAAI,mCAAE8B,EAAF,KAAQzC,EAAR,YACZ,sBAAKU,UAAU,MAAf,UACE,4BAAI+B,IACJ,4BAAIzC,MAFoByC,EAAKzC,MAKjC,qBAAKU,UAAU,YAAf,SACE,+CAED2B,EAAY1B,KAAI,mCAAE8B,EAAF,KAAQzC,EAAR,YACf,sBAAKU,UAAU,MAAf,UACE,4BAAI+B,IACJ,8BAAIzC,EAAJ,SAFwByC,EAAKzC,MAKjC,qBAAKU,UAAU,YAAf,SACE,uDAED4B,EAAW3B,KAAI,mCAAE8B,EAAF,KAAQzC,EAAR,YACd,sBAAKU,UAAU,MAAf,UACE,4BAAI+B,IACJ,4BAAIzC,MAFoByC,EAAKzC,MAMjC,mBAAGU,UAAU,aAAb,qHAIA,wBAAQA,UAAU,2BAA2BO,QAASI,EAAtD,4BAGA,wBAAQX,UAAU,yBAAyBO,QAASE,EAApD,uBCoISuB,EA/MG,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,QAASxB,EAAiB,EAAjBA,WAAiB,EACZyB,mBAAS,GADG,mBAC/CC,EAD+C,KAChCC,EADgC,OAERF,mBAAS,GAFD,mBAE/CG,EAF+C,KAE9BC,EAF8B,OAGlBJ,mBAAS,GAHS,mBAG/CK,EAH+C,KAGnCC,EAHmC,OAKpBN,mBAAS,IALW,mBAK/CO,EAL+C,KAKpCC,EALoC,OAMhBR,mBAAS,IANO,mBAM/CS,EAN+C,KAMlCC,EANkC,OAQZV,mBAAS,MARG,mBAQ/CW,EAR+C,KAQhCC,EARgC,KAuFtD,GAPAC,qBAAU,WACR,IAAMC,EArCS,WACf,IAAMC,EAAU,SAACC,EAAYC,GACzB,OAAKD,GAAeC,EAGD,cAAfD,EACK,OAAUtB,KAAKwB,IAAID,EAAI,UAAY,GAAM,KAE/B,cAAfD,EACG,QAAWtB,KAAKwB,IAAID,EAAI,UAAY,GAAM,UADjD,EALW,GAYTE,EAHsBJ,EAAQ,YAAaR,GAAaN,EAChCc,EAAQ,YAAaN,GAAeN,EAGlEG,EAAca,GAEd,IAAMC,EAAS,SAACC,GACd,OAAKA,EAGEA,GAAyB,MAAS3B,KAAK4B,IAAID,GAA3B,OAFd,GAWLP,EANmBC,EAAQ,YAAaK,EAAOb,IAAcN,EAExCc,EAAQ,YAAaK,EAAOX,IAAgBN,EAIhCgB,EAEvC,OAAOzB,KAAKC,MAAMmB,GAISS,GACxBT,GACHF,EAAiBE,KAEhB,CAACb,EAAeE,EAAiBI,EAAWE,KAE1ClC,EACH,OAAO,KAxF6C,IA2F9Cc,EAAmCd,EAAnCc,UAAWD,EAAwBb,EAAxBa,YAAaE,EAAWf,EAAXe,OAEhC,OACE,sBAAKzB,UAAU,YAAYG,MAAO,CAAEwD,OAAQ1B,EAAU,OAAS,OAA/D,UACE,gCACE,qBAAKjC,UAAU,YAAf,SACE,6CAAgByB,OAGlB,wBAAOzB,UAAU,YAAjB,UACE,gCACE,+BACE,sCACA,iDACA,oDAGJ,kCACE,+BACE,2CACA,6BACE,uBACE4D,KAAK,SACLC,YAAY,SACZ9B,KAAK,gBACL+B,MAAO1B,EACP2B,SA3GY,SAACC,GAC3B,IAAMF,EAAQG,OAAOD,EAAME,OAAOJ,QAAU,KACxCG,OAAOE,UAAUL,GACnBzB,EAAiByB,GAEfzB,EAAiB,SAyGX,6BACE,uBACEuB,KAAK,SACLC,YAAY,KACZ9B,KAAK,kBACL+B,MAAOpB,EACPqB,SAnGQ,SAACC,GACvB,IAAMF,EAAQG,OAAOD,EAAME,OAAOJ,QAAU,KACxCG,OAAOE,UAAUL,GACnBnB,EAAamB,GAEXnB,EAAa,YAkGT,+BACE,2CACA,6BACE,uBACEiB,KAAK,SACLC,YAAY,SACZ9B,KAAK,kBACL+B,MAAOxB,EACPyB,SAxHc,SAACC,GAC7B,IAAMF,EAAQG,OAAOD,EAAME,OAAOJ,QAAU,KACxCG,OAAOE,UAAUL,GACnBvB,EAAmBuB,GAEjBvB,EAAmB,SAsHb,6BACE,uBACEqB,KAAK,SACLC,YAAY,KACZ9B,KAAK,mBACL+B,MAAOlB,EACPmB,SAhHU,SAACC,GACzB,IAAMF,EAAQG,OAAOD,EAAME,OAAOJ,QAAU,KACxCG,OAAOE,UAAUL,GACnBjB,EAAeiB,GAEbjB,EAAe,qBAkHhBC,IAAkBsB,MAAMtB,MAAoBsB,MAAMhC,KAAmBgC,MAAM9B,KAC1E,sBAAKtC,UAAU,aAAf,UACI,sBAAKA,UAAU,MAAf,UACA,mBAAGA,UAAU,aAAb,oCACA,oBAAGA,UAAU,YAAb,UAA0B6B,KAAKC,MAAMP,GAArC,YAEA,sBAAKvB,UAAU,MAAf,UACA,mBAAGA,UAAU,aAAb,iDACA,oBAAGA,UAAU,YAAb,UAA0B6B,KAAKC,MAAMU,GAArC,YAEA,sBAAKxC,UAAU,MAAf,UACA,mBAAGA,UAAU,aAAb,4CACA,oBAAGA,UAAU,YAAb,UAA0B6B,KAAKC,MAAMP,EAAYiB,GAAjD,YAEA,sBAAKxC,UAAU,MAAf,UACA,mBAAGA,UAAU,aAAb,wCACA,oBAAGA,UAAU,YAAb,UAA0B6B,KAAKC,MAAMU,EAAWjB,EAAc,IAAK,KAAK,IAAxE,WAGA,sBAAKvB,UAAU,MAAf,UACA,mBAAGA,UAAU,aAAb,4CACA,oBAAGA,UAAU,YAAb,UAA0B6B,KAAKC,MAAMN,GAArC,cAEA,sBAAKxB,UAAU,MAAf,UACA,mBAAGA,UAAU,aAAb,yDACA,oBAAGA,UAAU,YAAb,UAA0B6B,KAAKC,MAAMgB,GAArC,cAEA,sBAAK9C,UAAU,MAAf,UACA,mBAAGA,UAAU,aAAb,oDACA,oBAAGA,UAAU,YAAb,UAA0B6B,KAAKC,MAAMgB,EAActB,GAAnD,cAEA,sBAAKxB,UAAU,MAAf,UACA,mBAAGA,UAAU,aAAb,gDACA,oBAAGA,UAAU,YAAb,UAA0B6B,KAAKC,MAAMgB,EAActB,EAAU,IAAI,KAAK,IAAtE,cAIN,wBAAQxB,UAAU,aAAaO,QAC3B,WAAK2B,IACHG,EAAiB,GACjBE,EAAmB,GACnBE,EAAc,GACdE,EAAa,IACbE,EAAe,IACfE,EAAiB,OAPvB,uBCtLAsB,EAAe,CAAC,QAAS,KA4EhBC,EA1EH,WAAO,IAAD,EACsBnC,mBAAS,iBAD/B,mBACTvC,EADS,KACIC,EADJ,OAE4BsC,oBAAS,GAFrC,mBAEToC,EAFS,KAEOC,EAFP,OAGoBrC,mBAAS,MAH7B,mBAGTzB,EAHS,KAGG+D,EAHH,OAIYtC,mBAAS,MAJrB,mBAITuC,EAJS,KAIDC,EAJC,OAK+BxC,oBAAS,GALxC,mBAKTyC,EALS,KAKSC,EALT,KAOVC,EAAOP,EAAiB,MAAQ,QAWtC,OACE,sBAAKQ,GAAG,YAAR,UACE,sBAAK/E,UAAU,WAAf,uEACA,mBAAGkE,OAAO,SAASc,KAAK,uEAAxB,SAA+F,qBAAKhF,UAAU,OAAOiF,ICjC5G,oiLDmCT,cAAC,EAAD,CAAQrF,YAAaA,EAAaC,eAAgBA,IAClD,cAAC,EAAD,CACEa,WAAYA,EACZP,MAAO,CAAE2E,KAAMA,GACfrE,aAAc,kBAAM+D,GAAkB,IACtC7D,cAAe,kBAAIkE,GAAoB,MAEzC,cAAC,EAAD,CACAnE,WAAYA,EACZuB,QAAS2C,EACT1C,QAAS,kBAAI2C,GAAoB,MAEjC,eAACK,EAAA,EAAD,CACEH,GAAG,eACHI,OAAQd,EACRe,KAAM,GACNC,iBAAiB,EAJnB,UAME,cAACC,EAAA,EAAD,CACEC,YAAY,yEACZC,IAAI,uDAEN,cAACC,EAAA,EAAD,CACEtF,MAAO,SAACuF,GAAD,MArCGpG,EAAKR,EAqCR,OArCGQ,EAuCNoG,EAAQhF,WAAWd,GAvCRd,EAsCL,OAENH,QAFM,IAENA,GAFM,UAENA,EAAUiB,UAFJ,aAEN,EAAwBd,SAxCC,CACnC6G,UAAWtG,EAAkBC,EAAKR,GAClC8G,OAAQ,EACRC,QAAS,EACTC,MAAO,QACPC,UAAW,IACXC,YAAa,KAqCPC,cAAe,CACbC,MAAM,WAAD,4BAAE,WAAOC,GAAP,SAAAC,EAAA,sDACL3B,EAAc0B,EAAEE,MAAMX,QAAQhF,YAC9BiE,EAAUwB,EAAEE,MAAMX,SAClBlB,GAAkB,GAHb,2CAAF,mDAAC,IAOR8B,KAAMA,GADD,SAAW1G,GAGjB2E,GAAkBG,GACjB,cAACe,EAAA,EAAD,CACEc,YAAa,CAAET,MAAO,OAEtBQ,KAAM5B,GADDA,EAAOhE,WAAWe,eE1EpB,SAAS6C,IACtB,OACE,cAAC,IAAD,CAAYkC,SAAS,IAArB,SACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWC,MCDvCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.31f8d59c.chunk.js","sourcesContent":["const legends = {\n    tree_tot_n: {\n      label: \"Tree density [trees/km²]\",\n      colorMap:[\n         [7566, '#00441b'],\n         [4090, '#2a924a'],\n         [3147, '#7bc87c'],\n         [2473, '#caeac3'],\n         [1761, '#f7fcf5'],\n      ]\n    },\n    avg_trunk_girth: {\n      label: \"Mean tree trunk girth [m]\",\n      colorMap:[\n        [0.943, '#a6611a'],\n        [0.751, '#dfc27d'],\n        [0.677, '#f5f5f5'],\n        [0.625, '#80cdc1'],\n        [0.55, '#018571'],\n      ]\n    },\n    avg_height: {\n      label: \"Mean tree height [m]\",\n      colorMap:[\n        [11.6, '#bd0026'],\n        [9.18, '#f03b20'],\n        [8.41, '#fd8d3c'],\n        [7.71, '#fecc5c'],\n        [6.93, '#ffffb2'],\n      ]\n    },\n    avg_crown_diameter: {\n      label: \"Mean tree canopy diameter [m]\",\n      colorMap:[\n        [7.26, '#810f7c'],\n        [5.61, '#8856a7'],\n        [5.19, '#8c96c6'],\n        [4.7,  '#b3cde3'],\n        [4.02, '#edf8fb'],\n      ]\n    },\n    tree_cover: {\n      label: \"Tree canopy coverage [area %]\",\n      colorMap:[\n        [23.4, '#006837'],\n        [11.8, '#31a354'],\n        [8.7, '#78c679'],\n        [5.8, '#c2e699'],\n        [2.8, '#ffffcc'],\n      ]\n    },\n    sum_c_stock_n: {\n      label: \"CO₂ stock [kg/km²]\",\n      colorMap: [\n        [4040511, '#440154'],\n        [1516593, '#3a528b'],\n        [1143824, '#20908d'],\n        [814971, '#5dc962'],\n        [423571, '#fde725'],\n      ],\n    },\n    sum_c_seq_n: {\n      label: \"CO₂ sequestration [kg/y/km²]\",\n      colorMap: [\n        [152135, '#d7191c'],\n        [61540, '#fdae61'],\n        [46681, '#ffffbf'],\n        [34481, '#abdda4'],\n        [17924, '#2b83ba'],\n      ],\n    },\n  };\n\n  export default legends;\n","import legends from \"../static/legends\";\n\nconst Legend = ({ legendValue, setLegendValue }) => {\n  const legendItem = legends?.[legendValue]?.label;\n  const colorMap = legends?.[legendValue]?.colorMap;\n  const len = legends?.[legendValue]?.colorMap.length;\n\n  return (\n    <div className=\"legendContainer\">\n      <div>\n        <h2>MAPS</h2>\n      </div>\n      <div className=\"legendTitle\">{legendItem}</div>\n      <div className=\"selectedLegend\">\n        {colorMap?.map((item, index) => (\n          <div key={index}>\n            <div className=\"legendVal\">\n              {`${colorMap[len-index + 1-1]?.[0] || 0}-${colorMap[len-index-1][0]}`}\n            </div>\n            <div\n              className=\"legendColor\"\n              style={{ backgroundColor: colorMap[len-index-1][1] || item[0] }}\n            />\n          </div>\n        ))}\n      </div>\n      {Object.entries(legends).map(\n        (item) =>\n          item[0] !== legendValue && (\n            <div\n              key={item[1].label}\n              className=\"legendTitle otherLegend\"\n              onClick={() => setLegendValue(item[0])}\n            >\n              {item[1].label}\n            </div>\n          )\n      )}\n    </div>\n  );\n};\n\nconst getColorForLegend = (val, colorMap) => {\n  if (!colorMap) {\n    return;\n  }\n  const colorItem = colorMap.find((item) => val > item[0]);\n\n  return colorItem && colorItem[1]\n    ? colorItem[1]\n    : colorMap[colorMap.length - 1][1];\n};\n\nexport { getColorForLegend };\nexport default Legend;\n","const Tooltip = ({ closeTooltip, style, properties, openSimulator }) => {\n  if (!properties) {\n    return null;\n  }\n  const {\n    perc_caducifolio,\n    perc_perennifolio,\n    tree_valid,\n    tree_tot,\n    especie_1,\n    especie_1_perc,\n    especie_2,\n    especie_2_perc,\n    especie_3,\n    especie_3_perc,\n    other_perc,\n    sum_c_stock,\n    sum_c_seq,\n    NOMBRE,\n  } = properties;\n\n  const treeData = [\n    [\"TREES COUNT\", tree_tot],\n    [\"VALID TREE RECORDS\", tree_valid + \"%\"],\n    [\"EVERGREEN\", perc_perennifolio + \"%\"],\n    [\"DECIDUOUS\", perc_caducifolio + \"%\"],\n  ];\n\n  const treeSpecies = [\n    [especie_1, especie_1_perc],\n    [especie_2, especie_2_perc],\n    [especie_3, especie_3_perc],\n    [\"others\", other_perc],\n  ];\n\n  const carbonInfo = [\n    [\"CO₂ stock \", Math.round(sum_c_stock)+ \" kg\"],\n    [\"CO₂ sequestration\", Math.round(sum_c_seq)+ \" kg/y\"],\n  ];\n  return (\n    <div style={style} className=\"tooltip\">\n      <div className=\"singleRow\">\n        <p>{NOMBRE}</p>\n      </div>\n      {treeData.map(([name, val]) => (\n        <div className=\"row\" key={name+val}>\n          <p>{name}</p>\n          <p>{val}</p>\n        </div>\n      ))}\n      <div className=\"singleRow\">\n        <p>TREE SPECIES</p>\n      </div>\n      {treeSpecies.map(([name, val]) => (\n        <div className=\"row\" key={name+val}>\n          <p>{name}</p>\n          <p>{val}%</p>\n        </div>\n      ))}\n      <div className=\"singleRow\">\n        <p>CO₂ PERFORMANCE</p>\n      </div>\n      {carbonInfo.map(([name, val]) => (\n        <div className=\"row\" key={name+val}>\n          <p>{name}</p>\n          <p>{val}</p>\n        </div>\n      ))}\n\n      <p className=\"disclaimer\">\n        Carbon computation is based on approximate equations.\n        Results are not intended for analytical purposes.\n      </p>\n      <button className=\"blueButton goToSimulator\" onClick={openSimulator}>\n        Run Simulation\n      </button>\n      <button className=\"blueButton closeButton\" onClick={closeTooltip}>\n        Close\n      </button>\n    </div>\n  );\n};\n\nexport default Tooltip;\n","import { useState, useEffect } from \"react\";\nconst Simulator = ({ visible, onClose, properties }) => {\n  const [coniferNumber, setConiferNumber] = useState(0);\n  const [broadleafNumber, setBroadleafNumber] = useState(0);\n  const [co2Initial, setCo2Initial] = useState(0);\n\n  const [coniferCm, setConiferCm] = useState('');\n  const [broadleafCm, setBroadleafCm] = useState('');\n\n  const [sequestration, setSequestration] = useState(null);\n  \n  const changeConiferNumber = (event) => {\n    const value = Number(event.target.value) || null;\n    if (Number.isInteger(value)) {\n      setConiferNumber(value);\n    }else{\n        setConiferNumber('');\n    }\n  };\n  const changeBroadleafNumber = (event) => {\n    const value = Number(event.target.value) || null;\n    if (Number.isInteger(value)) {\n      setBroadleafNumber(value);\n    }else{\n        setBroadleafNumber('');\n    }\n  };\n\n  const changeConiferCm = (event) => {\n    const value = Number(event.target.value) || null;\n    if (Number.isInteger(value)) {\n      setConiferCm(value);\n    }else{\n        setConiferCm('');\n    }\n  };\n  const changeBroadleafCm = (event) => {\n    const value = Number(event.target.value) || null;\n    if (Number.isInteger(value)) {\n      setBroadleafCm(value);\n    }else{\n        setBroadleafCm('');\n    }\n  };\n\n  const simulate = () => {\n    const get_co2 = (senescence, cm) => {\n        if (!senescence || !cm) {\n            return 0;\n        }\n        if (senescence === \"evergreen\") { //perennifolio\n          return 0.16155 * Math.pow(cm, 2.310647) * 0.5 * 3.67;\n        }\n        if (senescence === \"deciduous\") { //caducifolio\n        return 0.035702 * Math.pow(cm, 2.580671) * 0.5 * 3.67;\n      }\n    };\n    const co2_initial_conifer = get_co2(\"evergreen\", coniferCm) * coniferNumber;\n    const co2_initial_broadleaf = get_co2(\"deciduous\", broadleafCm) * broadleafNumber;\n\n    const co2_initial = co2_initial_conifer + co2_initial_broadleaf;\n    setCo2Initial(co2_initial);\n\n    const get_t1 = (diameter_t0) => {\n      if (!diameter_t0) {\n        return 0;\n      }\n      return diameter_t0 + (-0.5425 + 0.3189 * Math.log(diameter_t0));\n    };\n\n    const co2_final_conifer =get_co2(\"evergreen\", get_t1(coniferCm)) * coniferNumber;\n\n    const co2_final_broadleaf =get_co2(\"deciduous\", get_t1(broadleafCm)) * broadleafNumber;\n\n    const co2_final = co2_final_conifer + co2_final_broadleaf;\n\n    const sequestrationValue = co2_final - co2_initial;\n\n    return Math.round(sequestrationValue);\n  };\n\n  useEffect(() => {\n    const sequestrationValue = simulate();\n    if(sequestrationValue){\n    setSequestration(sequestrationValue);\n    }\n  }, [coniferNumber, broadleafNumber, coniferCm, broadleafCm]);\n\n  if (!properties) {\n    return null;\n  }\n\n  const { sum_c_seq, sum_c_stock, NOMBRE } = properties;\n\n  return (\n    <div className=\"simulator\" style={{ height: visible ? \"100%\" : \"0px\" }}>\n      <div>\n        <div className=\"singleRow\">\n          <p>Simulator - {NOMBRE}</p>\n        </div>\n\n        <table className=\"greenRows\">\n          <thead>\n            <tr>\n              <th>Type</th>\n              <th>Number of trees</th>\n              <th>Diameter [cm]</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>Evergreen</td>\n              <td>\n                <input\n                  type=\"number\"\n                  placeholder=\"number\"\n                  name=\"coniferNumber\"\n                  value={coniferNumber}\n                  onChange={changeConiferNumber}\n                />\n              </td>\n              <td>\n                <input\n                  type=\"number\"\n                  placeholder=\"cm\"\n                  name=\"coniferDiameter\"\n                  value={coniferCm}\n                  onChange={changeConiferCm}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td>Deciduous</td>\n              <td>\n                <input\n                  type=\"number\"\n                  placeholder=\"number\"\n                  name=\"broadleafNumber\"\n                  value={broadleafNumber}\n                  onChange={changeBroadleafNumber}\n                />\n              </td>\n              <td>\n                <input\n                  type=\"number\"\n                  placeholder=\"cm\"\n                  name=\"broadlefDiameter\"\n                  value={broadleafCm}\n                  onChange={changeBroadleafCm}\n                />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      {sequestration && !isNaN(sequestration) && (!isNaN(coniferNumber) || !isNaN(broadleafNumber)) && (\n        <div className='resultName'>\n            <div className=\"row\">\n            <p className='resultName'>Current CO₂ stock</p>\n            <p className='resultVal'>{Math.round(sum_c_stock)} kg</p>\n            </div>\n            <div className=\"row\">\n            <p className='resultName'>Additional simulated CO₂ stock</p>\n            <p className='resultVal'>{Math.round(co2Initial)} kg</p>\n            </div>\n            <div className=\"row\">\n            <p className='resultName'>Total simulated CO₂ stock</p>\n            <p className='resultVal'>{Math.round(sum_c_stock+co2Initial)} kg</p>\n            </div>\n            <div className=\"row\">\n            <p className='resultName'>Increase of CO₂ stock</p>\n            <p className='resultVal'>{Math.round(co2Initial/sum_c_stock * 100 *100)/100} %</p>\n            </div>\n            \n            <div className=\"row\">\n            <p className='resultName'>Current CO₂ sequestration</p>\n            <p className='resultVal'>{Math.round(sum_c_seq)} kg/y</p>\n             </div>\n            <div className=\"row\">\n            <p className='resultName'>Additional simulated CO₂ sequestration</p>\n            <p className='resultVal'>{Math.round(sequestration)} kg/y</p>\n            </div>\n            <div className=\"row\">\n            <p className='resultName'>Total simulated CO₂ sequestration</p>\n            <p className='resultVal'>{Math.round(sequestration+sum_c_seq)} kg/y</p>\n            </div>\n            <div className=\"row\">\n            <p className='resultName'>Increase of CO₂ sequestration</p>\n            <p className='resultVal'>{Math.round(sequestration/sum_c_seq*100*100)/100} %</p>\n            </div>\n        </div>\n      )}\n      <button className=\"blueButton\" onClick={\n          ()=>{onClose(); \n            setConiferNumber(0);\n            setBroadleafNumber(0);\n            setCo2Initial(0);\n            setConiferCm('');\n            setBroadleafCm('');\n            setSequestration(null);\n        }\n      }\n        >\n        Close\n      </button>\n    </div>\n  );\n};\nexport default Simulator;\n","import { useState } from \"react\";\nimport \"./App.css\";\nimport { MapContainer, TileLayer, GeoJSON } from \"react-leaflet\";\nimport data from \"./app_data/neighborhoods_madrid_stats.json\";\nimport Legend, { getColorForLegend } from \"./components/Legend\";\nimport Tooltip from \"./components/Tooltip\";\nimport Simulator from \"./components/Simulator\";\nimport legends from \"./static/legends\";\nimport info from \"./static/info.png\";\n\nconst madridCenter = [40.475, -3.7];\n\nconst App = () => {\n  const [legendValue, setLegendValue] = useState(\"sum_c_stock_n\");\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  const [properties, setProperties] = useState(null);\n  const [layerH, setLayerH] = useState(null);\n  const [simulatorVisible, setSimulatorVisible]= useState(false);\n\n  const left = tooltipVisible ? \"0px\" : \"-100%\";\n\n  const getStyle = (val, colorMap) => ({\n    fillColor: getColorForLegend(val, colorMap),\n    weight: 2,\n    opacity: 1,\n    color: \"white\",\n    dashArray: \"3\",\n    fillOpacity: 0.7,\n  });\n\n  return (\n    <div id=\"container\">\n      <div className=\"pageName\">MaTREEd - Tree Information System for Madrid neighborhoods\n      <a target='_blank' href='https://github.com/GISdevio/MaTREEd/blob/main/project-description.md'><img className='info' src={info} /></a>\n      </div>\n      <Legend legendValue={legendValue} setLegendValue={setLegendValue} />\n      <Tooltip\n        properties={properties}\n        style={{ left: left }}\n        closeTooltip={() => setTooltipVisible(false)}\n        openSimulator={()=>setSimulatorVisible(true)}\n      />\n      <Simulator \n      properties={properties}\n      visible={simulatorVisible} \n      onClose={()=>setSimulatorVisible(false)} />\n\n      <MapContainer\n        id=\"mapContainer\"\n        center={madridCenter}\n        zoom={11}\n        scrollWheelZoom={false}\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <GeoJSON\n          style={(feature) =>\n            getStyle(\n              feature.properties[legendValue],\n              legends?.[legendValue]?.colorMap\n            )\n          }\n          eventHandlers={{\n            click: async (e) => {\n              setProperties(e.layer.feature.properties);\n              setLayerH(e.layer.feature);\n              setTooltipVisible(true);\n            },\n          }}\n          key={\"madrid\" + legendValue}\n          data={data}\n        />\n        {tooltipVisible && layerH && (\n          <GeoJSON\n            pathOptions={{ color: \"red\" }}\n            key={layerH.properties.NOMBRE}\n            data={layerH}\n          />\n        )}\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default App;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5MjM1OUYyODZBMjE2ODExODA4MzgyNEJDQ0RGMTFBQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGMTMwOUM2MDdENzUxMUU0QTlDQ0U0RTZDQTY2OTM2RCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGMTMwOUM1RjdENzUxMUU0QTlDQ0U0RTZDQTY2OTM2RCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUZENTc3QTcwQjIwNjgxMTgwODNENTY3QUU0ODBBN0IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTIzNTlGMjg2QTIxNjgxMTgwODM4MjRCQ0NERjExQUMiLz4gPC9yZGY6RGVzY3Jp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\"","import { HashRouter, Route } from \"react-router-dom\";\nimport Viewer from \"./Viewer\";\n\nexport default function App() {\n  return (\n    <HashRouter basename=\"/\">\n      <Route exact path=\"/\" component={Viewer} />\n    </HashRouter>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}